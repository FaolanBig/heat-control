#include <Arduino.h>
#line 1 "/home/fb/repos/heat-control/heat-control.ino"
#define TEMP_SENSOR_PIN A0
#define TEMP_TUNE 1.0

//int hexToAscii(char* hex, char* output);
char startUpArt[] = "2020202F20202020202020202020202020202020202020202020205C0A202F582F20202020202020202020202020202020202020202020205C585C0A7C58585C2020202020202020205F5F5F5F5F2020202020202020202F58587C0A7C5858585C20202020205F2F202020202020205C5F20202020202F5858587C5F5F5F5F5F5F5F5F5F5F5F0A205C5858585858585820202020202020202020202020585858585858582F2020202020202020202020205C5C5C0A2020205C58585858202020202F20202020205C2020202058585858582F202020202020202020202020202020205C5C5C0A20202020202020207C202020302020202020302020207C202020202020202020202020202020202020202020202020205C0A2020202020202020207C20202020202020202020207C2020202020202020202020202020202020202020202020202020205C0A202020202020202020205C2020202020202020202F202020202020202020202020202020202020202020202020202020207C5F5F5F5F5F5F2F2F0A20202020202020202020205C202020202020202F20202020202020202020202020202020202020202020202020202020207C0A2020202020202020202020207C204F5F4F207C205C202020202020202020202020202020202020202020202020202020207C0A202020202020202020202020205C205F202F2020205C5F5F5F5F5F5F5F5F5F5F5F5F5F5F5F5F20202020202020202020207C0A2020202020202020202020202020202020202020202020207C207C20207C207C2020202020205C2020202020202020202F0A20204E6F2042756C6C736869742C202020202020202020202F207C20202F207C202020202020205C5F5F5F5F5F5F2F0A202020506C656173652E2E2E2020202020202020202020205C207C20205C207C20202020202020205C207C20205C207C0A202020202020202020202020202020202020202020205F5F7C207C5F5F7C207C2020202020205F5F7C207C5F5F7C207C0A202020202020202020202020202020202020202020207C5F5F5F7C7C5F5F5F7C2020202020207C5F5F5F7C7C5F5F5F7C0A";

#line 7 "/home/fb/repos/heat-control/heat-control.ino"
void setup();
#line 13 "/home/fb/repos/heat-control/heat-control.ino"
void loop();
#line 34 "/home/fb/repos/heat-control/heat-control.ino"
void hexToAscii(char* hex, char* output);
#line 7 "/home/fb/repos/heat-control/heat-control.ino"
void setup()
{
    Serial.begin(9600);
    pinMode(TEMP_SENSOR_PIN, INPUT);
}

void loop()
{
    // int tempSensorValue = analogRead(TEMP_SENSOR_PIN);
    // float voltage = tempSensorValue * (5.0 / 1023.0);
    // //float temperatureC = (voltage - 0.5) * 100.0;
    // float temperatureC = (voltage - 0.5) * 100.0 * TEMP_TUNE;

    // Serial.print("Temperature: ");
    // Serial.print(temperatureC);
    // Serial.println(" Â°C");

    // delay(1000);
    int raw = analogRead(TEMP_SENSOR_PIN);
    float voltage = raw * (5.0 / 1023.0);
    float Rsensor = 1700.0 * (5.0 - voltage) / voltage;
    float temperature = ((Rsensor - 1000.0) / 7.7 + 25.0) * TEMP_TUNE;
    Serial.println(temperature);

    delay(1000);
}

void hexToAscii(char* hex, char* output) {
  int len = strlen(hex);

  for (int i = 0; i < len; i += 2) {
    char buf[3];
    buf[0] = hex[i];
    buf[1] = hex[i+1];
    buf[2] = 0;

    output[i/2] = strtol(buf, NULL, 16);
  }

  output[len/2] = 0;
}

